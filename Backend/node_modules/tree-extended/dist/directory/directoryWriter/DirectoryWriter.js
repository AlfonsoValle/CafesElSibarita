"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var DirectoryWriter = /** @class */ (function () {
    function DirectoryWriter(directoryRepresentation) {
        this.directoryRepresentation = directoryRepresentation;
    }
    DirectoryWriter.prototype.getDirectoryRepresentation = function (rootDirectoryNode) {
        return this.getDirectoryStringRepresentation(rootDirectoryNode, "");
    };
    DirectoryWriter.prototype.getDirectoryStringRepresentation = function (directoryNode, previousLevelContent) {
        var _this = this;
        var representation = this.directoryRepresentation;
        if (directoryNode.isLeafNotEmpty()) {
            return representation.directoryNotEmpty(previousLevelContent);
        }
        var result = "";
        directoryNode.children.forEach(function (child) {
            var isLastChild = directoryNode.isLastChild(child);
            if (child.isDirectory()) {
                result += representation.directoryItem(isLastChild, previousLevelContent, child.name, true);
                var nextPreviousContent = previousLevelContent + representation.previousContent(isLastChild);
                result += _this.getDirectoryStringRepresentation(child, nextPreviousContent);
            }
            if (child.isFile()) {
                result += representation.directoryItem(isLastChild, previousLevelContent, child.name);
            }
        });
        return result;
    };
    return DirectoryWriter;
}());
exports.default = DirectoryWriter;
